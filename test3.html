<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>CHIZEL Universe - Learning Adventure Beyond Stars!</title>
    <link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Orbitron:wght@400;700;900&family=Exo+2:wght@300;400;600;800&display=swap">
    <style>
        :root {
            --primary-cosmic: #00D4FF;
            --secondary-nebula: #9D4EDD;
            --accent-star: #FFD60A;
            --cosmic-dark: #0A0E27;
            --deep-space: #1A1A2E;
            --plasma-pink: #FF006E;
            --quantum-green: #00F5FF;
            --neutron-blue: #4361EE;
            --supernova-orange: #F77F00;
            --galaxy-purple: #7209B7;
            --stellar-white: #FFFFFF;
            --energy-glow: #00FFD1;
            --wormhole-violet: #B084CC;
            --solar-flare: #FFB700;
            --asteroid-gray: #6C757D;
            --success-nova: #06FFA5;
            --danger-red: #FF073A;
        }

        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Exo 2', sans-serif;
            background: var(--cosmic-dark);
            color: var(--stellar-white);
            height: 100vh;
            overflow: hidden;
            perspective: 2000px;
            font-size: clamp(14px, 2vw, 18px);
            position: relative;
        }

        /* ADVANCED SPACE BACKGROUND */
        .universe-container {
            position: absolute;
            width: 100%;
            height: 100vh;
            overflow: hidden;
            z-index: -5;
        }

        .cosmic-background {
            position: absolute;
            width: 200%;
            height: 200%;
            background: 
                radial-gradient(circle at 20% 30%, rgba(157, 78, 221, 0.4) 0%, transparent 50%),
                radial-gradient(circle at 80% 70%, rgba(0, 212, 255, 0.3) 0%, transparent 50%),
                radial-gradient(circle at 40% 80%, rgba(255, 214, 10, 0.2) 0%, transparent 40%),
                linear-gradient(135deg, var(--cosmic-dark) 0%, var(--deep-space) 50%, #000011 100%);
            animation: cosmicDrift 60s linear infinite;
        }

        @keyframes cosmicDrift {
            0% { transform: translate(0, 0) rotate(0deg); }
            100% { transform: translate(-100px, -50px) rotate(360deg); }
        }

        /* ANIMATED STAR FIELD */
        .star-field {
            position: absolute;
            width: 100%;
            height: 100%;
            z-index: -4;
        }

        .star {
            position: absolute;
            background: white;
            border-radius: 50%;
            animation: starTwinkle var(--twinkle-duration, 3s) infinite ease-in-out;
        }

        @keyframes starTwinkle {
            0%, 100% { opacity: 0.3; transform: scale(0.8); }
            50% { opacity: 1; transform: scale(1.2); }
        }

        /* NEBULA EFFECTS */
        .nebula-cloud {
            position: absolute;
            border-radius: 50%;
            filter: blur(40px);
            animation: nebulaFloat 25s ease-in-out infinite;
            z-index: -3;
        }

        @keyframes nebulaFloat {
            0%, 100% { transform: translate(0, 0) scale(1); }
            33% { transform: translate(200px, -150px) scale(1.2); }
            66% { transform: translate(-100px, 100px) scale(0.8); }
        }

        /* MOVING COMETS */
        .comet {
            position: absolute;
            width: 4px;
            height: 4px;
            background: linear-gradient(45deg, white, var(--primary-cosmic));
            border-radius: 50%;
            box-shadow: 0 0 20px var(--primary-cosmic);
            animation: cometFly var(--comet-speed, 12s) linear infinite;
            z-index: -2;
        }

        @keyframes cometFly {
            0% {
                transform: translate(-100px, -100px);
                opacity: 0;
            }
            10% {
                opacity: 1;
            }
            90% {
                opacity: 1;
            }
            100% {
                transform: translate(calc(100vw + 100px), calc(100vh + 100px));
                opacity: 0;
            }
        }

        /* FLOATING PLANETS */
        .planet {
            position: absolute;
            border-radius: 50%;
            filter: drop-shadow(0 0 30px rgba(255, 255, 255, 0.3));
            animation: planetOrbit var(--orbit-speed, 180s) linear infinite;
            z-index: -1;
        }

        @keyframes planetOrbit {
            0% { transform: translateY(100vh) translateX(0) rotate(0deg); }
            100% { transform: translateY(-200px) translateX(300px) rotate(360deg); }
        }

        /* MAIN GAME CONTAINER */
        .game-container {
            position: relative;
            width: 100%;
            height: 100vh;
            display: flex;
            flex-direction: column;
            z-index: 1;
        }

        /* FUTURISTIC HEADER */
        .cosmic-header {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            padding: 15px 20px;
            display: flex;
            justify-content: space-between;
            align-items: center;
            background: linear-gradient(135deg, rgba(26, 26, 46, 0.8), rgba(10, 14, 39, 0.9));
            backdrop-filter: blur(20px);
            border-bottom: 2px solid var(--primary-cosmic);
            box-shadow: 0 4px 30px rgba(0, 212, 255, 0.3);
            z-index: 20;
        }

        .back-portal {
            width: 50px;
            height: 50px;
            background: linear-gradient(45deg, var(--plasma-pink), var(--neutron-blue));
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            cursor: pointer;
            transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
            border: 3px solid var(--energy-glow);
            box-shadow: 0 0 20px var(--primary-cosmic);
            position: relative;
            overflow: hidden;
        }

        .back-portal::before {
            content: '';
            position: absolute;
            width: 100%;
            height: 100%;
            background: linear-gradient(45deg, transparent, rgba(255, 255, 255, 0.3), transparent);
            transform: translateX(-100%);
            animation: portalScan 2s infinite;
        }

        @keyframes portalScan {
            0% { transform: translateX(-100%); }
            100% { transform: translateX(100%); }
        }

        .back-portal:hover {
            transform: scale(1.15) rotate(180deg);
            box-shadow: 0 0 40px var(--plasma-pink);
        }

        .back-portal svg {
            width: 24px;
            height: 24px;
            fill: white;
            z-index: 1;
        }

        /* LOGO WITH HOLOGRAM EFFECT */
        .logo-hologram {
            position: absolute;
            left: 50%;
            transform: translateX(-50%);
            text-align: center;
            z-index: 21;
        }

        .logo {
            height: 60px;
            filter: drop-shadow(0 0 20px var(--accent-star));
            transition: all 0.3s ease;
            position: relative;
        }

        .logo:hover {
            transform: scale(1.1);
            filter: drop-shadow(0 0 30px var(--plasma-pink));
        }

        .hologram-tagline {
            font-family: 'Orbitron', monospace;
            font-size: clamp(10px, 1.5vw, 14px);
            font-weight: 700;
            color: var(--energy-glow);
            text-shadow: 0 0 10px var(--energy-glow);
            letter-spacing: 2px;
            margin-top: 5px;
            animation: holoFlicker 3s infinite;
        }

        @keyframes holoFlicker {
            0%, 100% { opacity: 1; }
            50% { opacity: 0.7; }
            75% { opacity: 0.9; }
        }

        /* ADVANCED STATS PANEL */
        .cosmic-stats {
            display: flex;
            flex-direction: column;
            gap: 15px;
            background: linear-gradient(135deg, rgba(26, 26, 46, 0.9), rgba(157, 78, 221, 0.2));
            padding: 20px;
            border-radius: 20px;
            border: 2px solid var(--primary-cosmic);
            backdrop-filter: blur(20px);
            box-shadow: 
                0 0 30px rgba(0, 212, 255, 0.4),
                inset 0 0 20px rgba(255, 255, 255, 0.1);
            position: relative;
            overflow: hidden;
        }

        .cosmic-stats::before {
            content: '';
            position: absolute;
            top: -2px;
            left: -2px;
            right: -2px;
            bottom: -2px;
            background: linear-gradient(45deg, var(--primary-cosmic), var(--plasma-pink), var(--quantum-green), var(--primary-cosmic));
            border-radius: 20px;
            z-index: -1;
            animation: borderPulse 3s linear infinite;
        }

        @keyframes borderPulse {
            0%, 100% { opacity: 1; }
            50% { opacity: 0.5; }
        }

        /* XP QUANTUM REACTOR */
        .xp-quantum-container {
            display: flex;
            align-items: center;
            gap: 12px;
        }

        .xp-label {
            font-family: 'Orbitron', monospace;
            font-size: clamp(14px, 2vw, 18px);
            font-weight: 700;
            color: var(--energy-glow);
            text-shadow: 0 0 10px var(--energy-glow);
            letter-spacing: 1px;
        }

        .xp-reactor {
            width: 200px;
            height: 30px;
            background: linear-gradient(135deg, rgba(0, 0, 0, 0.8), rgba(26, 26, 46, 0.8));
            border-radius: 15px;
            border: 3px solid var(--primary-cosmic);
            position: relative;
            overflow: hidden;
            box-shadow: 
                0 0 20px var(--primary-cosmic),
                inset 0 0 20px rgba(0, 0, 0, 0.7);
        }

        .xp-core {
            height: 100%;
            width: 0%;
            background: linear-gradient(90deg, 
                var(--quantum-green) 0%,
                var(--primary-cosmic) 25%,
                var(--plasma-pink) 50%,
                var(--accent-star) 75%,
                var(--supernova-orange) 100%);
            border-radius: 12px;
            position: relative;
            transition: width 0.8s cubic-bezier(0.4, 0, 0.2, 1);
            overflow: hidden;
        }

        .xp-core::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: linear-gradient(90deg, 
                rgba(255, 255, 255, 0) 0%,
                rgba(255, 255, 255, 0.3) 30%,
                rgba(255, 255, 255, 0.6) 50%,
                rgba(255, 255, 255, 0.3) 70%,
                rgba(255, 255, 255, 0) 100%);
            animation: energyFlow 2s infinite;
        }

        @keyframes energyFlow {
            0% { transform: translateX(-100%); }
            100% { transform: translateX(100%); }
        }

        .xp-particles {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: 
                radial-gradient(2px 2px at 20px 30px, white, transparent),
                radial-gradient(2px 2px at 40px 70px, var(--energy-glow), transparent),
                radial-gradient(1px 1px at 90px 40px, var(--plasma-pink), transparent),
                radial-gradient(1px 1px at 130px 80px, var(--accent-star), transparent);
            background-repeat: repeat;
            background-size: 80px 100px;
            animation: particleDance 4s linear infinite;
            opacity: 0.7;
        }

        @keyframes particleDance {
            0% { transform: translateX(0); }
            100% { transform: translateX(80px); }
        }

        .xp-value {
            font-family: 'Orbitron', monospace;
            font-size: clamp(14px, 2vw, 18px);
            font-weight: 900;
            color: var(--stellar-white);
            text-shadow: 0 0 15px var(--primary-cosmic);
            min-width: 50px;
            text-align: center;
            animation: valueGlow 2s infinite alternate;
        }

        @keyframes valueGlow {
            0% { text-shadow: 0 0 15px var(--primary-cosmic); }
            100% { text-shadow: 0 0 25px var(--plasma-pink), 0 0 35px var(--primary-cosmic); }
        }

        /* LEVEL PORTAL */
        .level-portal-container {
            display: flex;
            align-items: center;
            gap: 12px;
        }

        .level-label {
            font-family: 'Orbitron', monospace;
            font-size: clamp(14px, 2vw, 18px);
            font-weight: 700;
            color: var(--accent-star);
            text-shadow: 0 0 10px var(--accent-star);
            letter-spacing: 1px;
        }

        .level-portal {
            width: 80px;
            height: 40px;
            background: linear-gradient(135deg, var(--galaxy-purple), var(--neutron-blue));
            border-radius: 20px;
            border: 3px solid var(--accent-star);
            display: flex;
            align-items: center;
            justify-content: center;
            position: relative;
            overflow: hidden;
            box-shadow: 
                0 0 25px var(--accent-star),
                inset 0 0 20px rgba(255, 255, 255, 0.3);
        }

        .level-portal::before {
            content: '';
            position: absolute;
            width: 120%;
            height: 120%;
            background: conic-gradient(from 0deg, transparent, var(--accent-star), transparent);
            animation: levelSpin 3s linear infinite;
        }

        @keyframes levelSpin {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
        }

        .level-value {
            font-family: 'Orbitron', monospace;
            font-size: clamp(16px, 2.5vw, 22px);
            font-weight: 900;
            color: var(--stellar-white);
            text-shadow: 0 0 15px var(--stellar-white);
            z-index: 2;
            position: relative;
        }

        /* CHARACTER ENHANCEMENT */
        .character-dimension {
            position: absolute;
            bottom: 8%;
            width: 100%;
            display: flex;
            justify-content: space-between;
            align-items: flex-end;
            padding: 0 5%;
            z-index: 15;
        }

        .character-entity {
            position: relative;
            width: 40%;
            max-width: 350px;
            transition: all 0.4s cubic-bezier(0.4, 0, 0.2, 1);
        }

        .character-entity:hover {
            transform: translateY(-20px) scale(1.08);
        }

        .character-avatar {
            position: relative;
            width: 100%;
            height: auto;
        }

        .character-avatar img {
            width: 100%;
            height: auto;
            filter: drop-shadow(0 20px 40px rgba(0, 212, 255, 0.6));
            transition: all 0.4s ease;
        }

        .character-aura {
            position: absolute;
            top: -20px;
            left: -20px;
            right: -20px;
            bottom: -20px;
            border-radius: 50%;
            background: radial-gradient(circle, rgba(0, 212, 255, 0.3) 0%, transparent 70%);
            animation: auraBreath 4s ease-in-out infinite;
            z-index: -1;
        }

        @keyframes auraBreath {
            0%, 100% { transform: scale(0.8); opacity: 0.7; }
            50% { transform: scale(1.2); opacity: 1; }
        }

        /* SPEECH QUANTUM BUBBLES */
        .quantum-speech {
            position: absolute;
            padding: 20px 25px;
            border-radius: 25px;
            max-width: 350px;
            font-size: clamp(16px, 2.5vw, 22px);
            line-height: 1.5;
            font-weight: 600;
            transform: scale(0);
            transform-origin: bottom center;
            transition: all 0.4s cubic-bezier(0.68, -0.55, 0.265, 1.55);
            z-index: 16;
            font-family: 'Exo 2', sans-serif;
            backdrop-filter: blur(20px);
            border: 2px solid;
        }

        .quantum-speech.visible {
            transform: scale(1);
        }

        .mummy-speech {
            background: linear-gradient(135deg, rgba(157, 78, 221, 0.9), rgba(67, 97, 238, 0.9));
            color: var(--stellar-white);
            left: 10%;
            bottom: 100%;
            margin-bottom: 30px;
            border-color: var(--secondary-nebula);
            box-shadow: 
                0 0 30px var(--secondary-nebula),
                inset 0 0 20px rgba(255, 255, 255, 0.2);
        }

        .mummy-speech::after {
            content: '';
            position: absolute;
            left: 30px;
            top: 100%;
            width: 0;
            height: 0;
            border: 20px solid transparent;
            border-top-color: rgba(157, 78, 221, 0.9);
            border-bottom: 0;
            border-left: 0;
            margin-left: -10px;
        }

        .kid-speech {
            background: linear-gradient(135deg, rgba(255, 214, 10, 0.9), rgba(247, 127, 0, 0.9));
            color: var(--cosmic-dark);
            right: 10%;
            bottom: 100%;
            margin-bottom: 30px;
            border-color: var(--accent-star);
            box-shadow: 
                0 0 30px var(--accent-star),
                inset 0 0 20px rgba(255, 255, 255, 0.2);
            font-weight: 700;
        }

        .kid-speech::after {
            content: '';
            position: absolute;
            right: 30px;
            top: 100%;
            width: 0;
            height: 0;
            border: 20px solid transparent;
            border-top-color: rgba(255, 214, 10, 0.9);
            border-bottom: 0;
            border-right: 0;
            margin-right: -10px;
        }

        .quantum-typing {
            display: flex;
            justify-content: center;
            align-items: center;
            gap: 8px;
            margin-top: 15px;
        }

        .typing-particle {
            width: 10px;
            height: 10px;
            background: var(--energy-glow);
            border-radius: 50%;
            animation: quantumTyping 1.6s infinite ease-in-out;
            box-shadow: 0 0 15px var(--energy-glow);
        }

        .typing-particle:nth-child(2) { animation-delay: 0.2s; }
        .typing-particle:nth-child(3) { animation-delay: 0.4s; }

        @keyframes quantumTyping {
            0%, 60%, 100% { 
                transform: translateY(0) scale(1); 
                opacity: 0.7; 
            }
            30% { 
                transform: translateY(-15px) scale(1.3); 
                opacity: 1; 
            }
        }

        /* COSMIC COMMAND CENTER */
        .command-center {
            position: absolute;
            bottom: 12%;
            left: 50%;
            transform: translateX(-50%);
            width: 90%;
            max-width: 800px;
            background: linear-gradient(135deg, rgba(26, 26, 46, 0.95), rgba(10, 14, 39, 0.95));
            backdrop-filter: blur(30px);
            border-radius: 25px;
            padding: 25px;
            border: 3px solid var(--primary-cosmic);
            box-shadow: 
                0 0 50px rgba(0, 212, 255, 0.5),
                inset 0 0 30px rgba(255, 255, 255, 0.1);
            opacity: 0;
            pointer-events: none;
            transition: all 0.4s cubic-bezier(0.4, 0, 0.2, 1);
            z-index: 18;
        }

        .command-center.active {
            opacity: 1;
            pointer-events: all;
            transform: translateX(-50%) translateY(0);
        }

        .command-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 15px;
        }

        .cosmic-button {
            padding: 18px 25px;
            background: linear-gradient(135deg, var(--neutron-blue), var(--primary-cosmic));
            color: var(--stellar-white);
            border: 2px solid var(--energy-glow);
            border-radius: 15px;
            font-family: 'Exo 2', sans-serif;
            font-size: clamp(14px, 2vw, 18px);
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
            position: relative;
            overflow: hidden;
            text-align: center;
            box-shadow: 0 8px 25px rgba(67, 97, 238, 0.4);
        }

        .cosmic-button::before {
            content: '';
            position: absolute;
            top: 0;
            left: -100%;
            width: 100%;
            height: 100%;
            background: linear-gradient(90deg, transparent, rgba(255, 255, 255, 0.4), transparent);
            transition: left 0.5s;
        }

        .cosmic-button:hover::before {
            left: 100%;
        }

        .cosmic-button:hover {
            transform: translateY(-8px) scale(1.05);
            box-shadow: 0 15px 40px rgba(0, 212, 255, 0.6);
            border-color: var(--plasma-pink);
        }

        /* MISSION CONTROL PANEL */
        .mission-control {
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%) scale(0.8);
            width: 90%;
            max-width: 900px;
            max-height: 85vh;
            background: linear-gradient(135deg, rgba(26, 26, 46, 0.98), rgba(10, 14, 39, 0.98));
            backdrop-filter: blur(30px);
            border-radius: 30px;
            border: 3px solid var(--primary-cosmic);
            box-shadow: 
                0 0 60px rgba(0, 212, 255, 0.6),
                inset 0 0 40px rgba(255, 255, 255, 0.1);
            opacity: 0;
            pointer-events: none;
            transition: all 0.4s cubic-bezier(0.4, 0, 0.2, 1);
            z-index: 25;
            overflow-y: auto;
        }

        .mission-control.active {
            opacity: 1;
            pointer-events: all;
            transform: translate(-50%, -50%) scale(1);
        }

        .mission-header {
            background: linear-gradient(135deg, var(--galaxy-purple), var(--neutron-blue));
            margin: -3px -3px 25px -3px;
            padding: 25px;
            border-radius: 27px 27px 0 0;
            text-align: center;
            border-bottom: 3px solid var(--primary-cosmic);
        }

        .mission-title {
            font-family: 'Orbitron', monospace;
            font-size: clamp(20px, 4vw, 32px);
            font-weight: 900;
            color: var(--stellar-white);
            text-shadow: 0 0 20px var(--energy-glow);
            letter-spacing: 2px;
            margin-bottom: 10px;
        }

        .mission-content {
            padding: 0 25px 25px;
            font-size: clamp(16px, 2.5vw, 20px);
            line-height: 1.6;
            color: var(--stellar-white);
        }

        .mission-submit {
            display: block;
            margin: 30px auto 0;
            padding: 18px 40px;
            background: linear-gradient(135deg, var(--success-nova), var(--quantum-green));
            color: var(--cosmic-dark);
            border: 3px solid var(--energy-glow);
            border-radius: 25px;
            font-family: 'Orbitron', monospace;
            font-size: clamp(16px, 2.5vw, 20px);
            font-weight: 900;
            cursor: pointer;
            transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
            box-shadow: 0 10px 30px rgba(6, 255, 165, 0.5);
            text-transform: uppercase;
            letter-spacing: 1px;
        }

        .mission-submit:hover {
            transform: translateY(-8px) scale(1.05);
            box-shadow: 0 20px 50px rgba(6, 255, 165, 0.8);
        }

        .mission-submit.hidden {
            display: none;
        }

        /* ENHANCED TASK STYLES */
        .stellar-challenge {
            text-align: center;
            padding: 20px;
        }

        .challenge-question {
            font-size: clamp(18px, 3vw, 26px);
            font-weight: 700;
            margin-bottom: 25px;
            color: var(--stellar-white);
            background: linear-gradient(135deg, rgba(157, 78, 221, 0.3), rgba(67, 97, 238, 0.3));
            padding: 20px;
            border-radius: 20px;
            border: 2px solid var(--secondary-nebula);
            box-shadow: 0 0 25px rgba(157, 78, 221, 0.4);
        }

        .options-constellation {
            display: flex;
            flex-direction: column;
            gap: 15px;
            margin-top: 25px;
        }

        .option-star {
            padding: 18px 25px;
            background: linear-gradient(135deg, rgba(67, 97, 238, 0.3), rgba(0, 212, 255, 0.3));
            border: 3px solid var(--neutron-blue);
            border-radius: 20px;
            color: var(--stellar-white);
            font-size: clamp(14px, 2.5vw, 18px);
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
            position: relative;
            overflow: hidden;
        }

        .option-star:hover {
            transform: translateX(15px) scale(1.05);
            background: linear-gradient(135deg, rgba(0, 212, 255, 0.5), rgba(255, 0, 110, 0.5));
            border-color: var(--plasma-pink);
            box-shadow: 0 0 30px rgba(255, 0, 110, 0.6);
        }

        .option-star.selected {
            background: linear-gradient(135deg, var(--success-nova), var(--quantum-green));
            color: var(--cosmic-dark);
            border-color: var(--energy-glow);
            transform: scale(1.1);
            box-shadow: 0 0 40px var(--success-nova);
            font-weight: 800;
        }

        /* MEMORY QUANTUM GRID */
        .memory-quantum {
            text-align: center;
            padding: 20px;
        }

        .quantum-grid {
            display: grid;
            grid-template-columns: repeat(3, 1fr);
            gap: 15px;
            margin: 25px auto;
            max-width: 450px;
        }

        .memory-crystal {
            aspect-ratio: 1;
            background: linear-gradient(135deg, var(--neutron-blue), var(--galaxy-purple));
            border: 3px solid var(--primary-cosmic);
            border-radius: 15px;
            display: flex;
            justify-content: center;
            align-items: center;
            font-size: clamp(24px, 4vw, 36px);
            color: var(--stellar-white);
            cursor: pointer;
            transition: all 0.4s cubic-bezier(0.4, 0, 0.2, 1);
            position: relative;
            overflow: hidden;
            box-shadow: 0 8px 25px rgba(67, 97, 238, 0.4);
        }

        .memory-crystal::before {
            content: '';
            position: absolute;
            top: -2px;
            left: -2px;
            right: -2px;
            bottom: -2px;
            background: conic-gradient(from 0deg, var(--primary-cosmic), var(--plasma-pink), var(--quantum-green), var(--primary-cosmic));
            border-radius: 15px;
            z-index: -1;
            opacity: 0;
            transition: opacity 0.3s;
        }

        .memory-crystal:hover::before {
            opacity: 1;
            animation: crystalSpin 2s linear infinite;
        }

        @keyframes crystalSpin {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
        }

        .memory-crystal:hover {
            transform: scale(1.1);
            box-shadow: 0 15px 40px rgba(0, 212, 255, 0.8);
        }

        .memory-crystal.flipped {
            background: linear-gradient(135deg, var(--cosmic-dark), var(--deep-space));
            transform: rotateY(180deg) scale(1.05);
            border-color: var(--energy-glow);
        }

        .memory-crystal.matched {
            background: linear-gradient(135deg, var(--success-nova), var(--quantum-green));
            transform: scale(1.15);
            border-color: var(--energy-glow);
            box-shadow: 0 0 50px var(--success-nova);
            pointer-events: none;
        }

        /* WORD CONSTELLATION BUILDER */
        .word-constellation {
            text-align: center;
            padding: 20px;
        }

        .constellation-grid {
            display: grid;
            grid-template-columns: repeat(3, 1fr);
            gap: 15px;
            margin: 25px auto;
            max-width: 600px;
        }

        .word-star {
            background: linear-gradient(135deg, var(--galaxy-purple), var(--neutron-blue));
            border: 3px solid var(--primary-cosmic);
            border-radius: 15px;
            padding: 18px 12px;
            font-size: clamp(14px, 2.5vw, 18px);
            font-weight: 700;
            color: var(--stellar-white);
            cursor: pointer;
            transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
            text-align: center;
            box-shadow: 0 8px 25px rgba(114, 9, 183, 0.4);
            position: relative;
            overflow: hidden;
        }

        .word-star::before {
            content: '';
            position: absolute;
            top: 0;
            left: -100%;
            width: 100%;
            height: 100%;
            background: linear-gradient(90deg, transparent, rgba(255, 255, 255, 0.4), transparent);
            transition: left 0.5s;
        }

        .word-star:hover::before {
            left: 100%;
        }

        .word-star:hover {
            transform: translateY(-10px) scale(1.05);
            box-shadow: 0 15px 35px rgba(0, 212, 255, 0.6);
            border-color: var(--plasma-pink);
        }

        .word-star.selected {
            background: linear-gradient(135deg, var(--accent-star), var(--supernova-orange));
            color: var(--cosmic-dark);
            border-color: var(--energy-glow);
            transform: scale(1.1);
            box-shadow: 0 0 40px var(--accent-star);
        }

        /* SCIENCE DISCOVERY PORTAL */
        .discovery-portal {
            text-align: center;
            padding: 20px;
        }

        .fact-crystal {
            background: linear-gradient(135deg, rgba(255, 0, 110, 0.3), rgba(157, 78, 221, 0.3));
            border: 3px solid var(--plasma-pink);
            border-radius: 20px;
            padding: 25px;
            margin: 20px 0;
            font-size: clamp(16px, 2.5vw, 20px);
            line-height: 1.6;
            color: var(--stellar-white);
            box-shadow: 0 0 30px rgba(255, 0, 110, 0.4);
            position: relative;
            overflow: hidden;
        }

        .fact-crystal::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: 
                radial-gradient(circle at 20% 20%, rgba(255, 255, 255, 0.1) 0%, transparent 50%),
                radial-gradient(circle at 80% 80%, rgba(0, 255, 209, 0.1) 0%, transparent 50%);
            animation: factShimmer 4s ease-in-out infinite;
        }

        @keyframes factShimmer {
            0%, 100% { opacity: 0.5; }
            50% { opacity: 1; }
        }

        /* QUANTUM ACHIEVEMENT SYSTEM */
        .quantum-achievement {
            position: fixed;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%) scale(0);
            width: 90%;
            max-width: 450px;
            background: linear-gradient(135deg, rgba(26, 26, 46, 0.98), rgba(157, 78, 221, 0.98));
            backdrop-filter: blur(30px);
            border-radius: 25px;
            border: 4px solid var(--accent-star);
            box-shadow: 
                0 0 60px var(--accent-star),
                inset 0 0 30px rgba(255, 255, 255, 0.2);
            padding: 30px;
            text-align: center;
            z-index: 35;
            opacity: 0;
            transition: all 0.5s cubic-bezier(0.68, -0.55, 0.265, 1.55);
        }

        .quantum-achievement.visible {
            opacity: 1;
            transform: translate(-50%, -50%) scale(1);
        }

        .achievement-constellation {
            font-size: clamp(48px, 8vw, 72px);
            margin-bottom: 20px;
            animation: achievementPulse 2s ease-in-out infinite;
            filter: drop-shadow(0 0 20px var(--accent-star));
        }

        @keyframes achievementPulse {
            0%, 100% { transform: scale(1); }
            50% { transform: scale(1.2); }
        }

        .achievement-title {
            font-family: 'Orbitron', monospace;
            font-size: clamp(20px, 4vw, 28px);
            font-weight: 900;
            color: var(--accent-star);
            text-shadow: 0 0 20px var(--accent-star);
            margin-bottom: 15px;
            letter-spacing: 2px;
        }

        .achievement-desc {
            font-size: clamp(14px, 2.5vw, 18px);
            color: var(--stellar-white);
            margin-bottom: 25px;
            line-height: 1.5;
        }

        .achievement-close {
            padding: 15px 30px;
            background: linear-gradient(135deg, var(--accent-star), var(--supernova-orange));
            color: var(--cosmic-dark);
            border: 3px solid var(--energy-glow);
            border-radius: 25px;
            font-family: 'Orbitron', monospace;
            font-size: clamp(14px, 2.5vw, 18px);
            font-weight: 800;
            cursor: pointer;
            transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
            box-shadow: 0 10px 30px rgba(255, 214, 10, 0.5);
            text-transform: uppercase;
        }

        .achievement-close:hover {
            transform: translateY(-5px) scale(1.05);
            box-shadow: 0 15px 40px rgba(255, 214, 10, 0.8);
        }

        /* COSMIC PARTICLES SYSTEM */
        .cosmic-particles {
            position: absolute;
            width: 100%;
            height: 100%;
            pointer-events: none;
            z-index: 30;
            overflow: hidden;
        }

        .particle {
            position: absolute;
            border-radius: 50%;
            pointer-events: none;
            animation: particleFly 8s linear infinite;
        }

        @keyframes particleFly {
            0% {
                transform: translate(-10px, 100vh) rotate(0deg);
                opacity: 0;
            }
            10% {
                opacity: 1;
            }
            90% {
                opacity: 1;
            }
            100% {
                transform: translate(100vw, -10px) rotate(360deg);
                opacity: 0;
            }
        }

        /* PROGRESS CONSTELLATION */
        .progress-constellation {
            position: absolute;
            bottom: 25px;
            left: 25px;
            display: flex;
            gap: 8px;
            z-index: 20;
        }

        .progress-star {
            width: 12px;
            height: 12px;
            border-radius: 50%;
            background: rgba(0, 212, 255, 0.4);
            border: 2px solid var(--primary-cosmic);
            transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
            position: relative;
        }

        .progress-star.active {
            background: var(--primary-cosmic);
            transform: scale(1.5);
            box-shadow: 0 0 20px var(--primary-cosmic);
        }

        .progress-star.active::before {
            content: '';
            position: absolute;
            top: -4px;
            left: -4px;
            right: -4px;
            bottom: -4px;
            border: 2px solid var(--primary-cosmic);
            border-radius: 50%;
            animation: starPulse 2s infinite;
        }

        @keyframes starPulse {
            0%, 100% { transform: scale(1); opacity: 1; }
            50% { transform: scale(1.5); opacity: 0; }
        }

        /* DAILY QUANTUM REWARD */
        .quantum-reward {
            position: absolute;
            bottom: 25px;
            left: 50%;
            transform: translateX(-50%);
            padding: 15px 25px;
            background: linear-gradient(135deg, rgba(0, 255, 209, 0.9), rgba(157, 78, 221, 0.9));
            backdrop-filter: blur(20px);
            border: 3px solid var(--energy-glow);
            border-radius: 25px;
            color: var(--stellar-white);
            font-family: 'Orbitron', monospace;
            font-size: clamp(14px, 2vw, 18px);
            font-weight: 700;
            cursor: pointer;
            transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
            z-index: 20;
            display: flex;
            align-items: center;
            gap: 10px;
            box-shadow: 0 0 30px rgba(0, 255, 209, 0.6);
        }

        .quantum-reward:hover {
            transform: translateX(-50%) scale(1.1);
            box-shadow: 0 0 50px rgba(0, 255, 209, 0.9);
        }

        .quantum-reward::before {
            content: '';
            position: absolute;
            top: -2px;
            left: -2px;
            right: -2px;
            bottom: -2px;
            background: linear-gradient(45deg, var(--energy-glow), var(--plasma-pink), var(--quantum-green), var(--energy-glow));
            border-radius: 25px;
            z-index: -1;
            animation: rewardPulse 3s linear infinite;
        }

        @keyframes rewardPulse {
            0%, 100% { opacity: 0.7; }
            50% { opacity: 1; }
        }

        /* CHIZEL PROMO PORTAL */
        .chizel-portal {
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%) scale(0);
            width: 90%;
            max-width: 650px;
            background: linear-gradient(135deg, rgba(26, 26, 46, 0.98), rgba(10, 14, 39, 0.98));
            backdrop-filter: blur(30px);
            border-radius: 30px;
            border: 4px solid var(--secondary-nebula);
            box-shadow: 
                0 0 60px var(--secondary-nebula),
                inset 0 0 40px rgba(255, 255, 255, 0.1);
            opacity: 0;
            pointer-events: none;
            transition: all 0.5s cubic-bezier(0.4, 0, 0.2, 1);
            z-index: 40;
        }

        .chizel-portal.active {
            opacity: 1;
            pointer-events: all;
            transform: translate(-50%, -50%) scale(1);
        }

        .portal-close {
            position: absolute;
            top: 20px;
            right: 20px;
            width: 40px;
            height: 40px;
            background: linear-gradient(135deg, var(--plasma-pink), var(--danger-red));
            border-radius: 50%;
            border: 2px solid var(--energy-glow);
            color: var(--stellar-white);
            font-size: 20px;
            cursor: pointer;
            display: flex;
            align-items: center;
            justify-content: center;
            transition: all 0.3s ease;
            box-shadow: 0 0 20px rgba(255, 0, 110, 0.5);
        }

        .portal-close:hover {
            transform: scale(1.1);
            box-shadow: 0 0 30px rgba(255, 0, 110, 0.8);
        }

        .portal-header {
            display: flex;
            align-items: center;
            gap: 20px;
            padding: 30px;
            border-bottom: 3px solid var(--primary-cosmic);
        }

        .mummy-avatar {
            width: 80px;
            height: 80px;
            border-radius: 50%;
            background: linear-gradient(135deg, var(--secondary-nebula), var(--neutron-blue));
            display: flex;
            justify-content: center;
            align-items: center;
            font-size: 40px;
            color: var(--stellar-white);
            border: 4px solid var(--primary-cosmic);
            box-shadow: 0 0 25px var(--secondary-nebula);
        }

        .portal-title {
            font-family: 'Orbitron', monospace;
            font-size: clamp(18px, 3vw, 24px);
            font-weight: 900;
            color: var(--secondary-nebula);
            text-shadow: 0 0 15px var(--secondary-nebula);
            letter-spacing: 2px;
        }

        .portal-message {
            padding: 30px;
            font-size: clamp(16px, 2.5vw, 20px);
            line-height: 1.6;
            color: var(--stellar-white);
        }

        .portal-download {
            margin: 0 30px 30px;
            padding: 20px;
            background: linear-gradient(135deg, var(--plasma-pink), var(--galaxy-purple));
            color: var(--stellar-white);
            border: 3px solid var(--energy-glow);
            border-radius: 20px;
            font-family: 'Orbitron', monospace;
            font-size: clamp(16px, 3vw, 22px);
            font-weight: 800;
            cursor: pointer;
            transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
            text-align: center;
            box-shadow: 0 10px 35px rgba(255, 0, 110, 0.5);
            text-transform: uppercase;
            letter-spacing: 1px;
        }

        .portal-download:hover {
            transform: translateY(-8px) scale(1.05);
            box-shadow: 0 20px 50px rgba(255, 0, 110, 0.8);
        }

        /* QUANTUM POWER-UP EFFECT */
        .quantum-powerup {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: radial-gradient(circle, rgba(0, 255, 209, 0.4) 0%, transparent 70%);
            z-index: 30;
            opacity: 0;
            pointer-events: none;
            animation: powerupPulse 3s ease-in-out infinite;
        }

        @keyframes powerupPulse {
            0%, 100% { opacity: 0; transform: scale(0.8); }
            50% { opacity: 0.6; transform: scale(1.2); }
        }

        /* RESPONSIVE COSMIC DESIGN */
        @media (max-width: 768px) {
            .character-entity {
                width: 45%;
                max-width: 280px;
            }

            .quantum-speech {
                max-width: 280px;
                font-size: clamp(14px, 3vw, 18px);
                padding: 15px 20px;
            }

            .mummy-speech {
                left: 5%;
                margin-bottom: 25px;
            }

            .kid-speech {
                right: 5%;
                margin-bottom: 25px;
            }

            .command-center {
                bottom: 8%;
                padding: 20px;
            }

            .cosmic-stats {
                padding: 15px;
                gap: 12px;
            }

            .xp-reactor {
                width: 150px;
                height: 25px;
            }

            .level-portal {
                width: 70px;
                height: 35px;
            }
        }

        @media (max-width: 480px) {
            .cosmic-header {
                padding: 10px 15px;
            }

            .back-portal {
                width: 40px;
                height: 40px;
            }

            .logo {
                height: 45px;
            }

            .character-entity {
                width: 48%;
                max-width: 220px;
                bottom: 5%;
            }

            .quantum-speech {
                max-width: 240px;
                font-size: clamp(12px, 3.5vw, 16px);
                padding: 12px 15px;
            }

            .mummy-speech {
                left: 2%;
                margin-bottom: 20px;
            }

            .kid-speech {
                right: 2%;
                margin-bottom: 20px;
            }

            .command-center {
                bottom: 5%;
                padding: 15px;
            }

            .command-grid {
                grid-template-columns: 1fr;
                gap: 12px;
            }

            .cosmic-button {
                padding: 15px 20px;
                font-size: clamp(12px, 3vw, 16px);
            }

            .mission-control {
                width: 95%;
                max-height: 90vh;
            }

            .mission-content {
                padding: 0 20px 20px;
            }

            .quantum-grid,
            .constellation-grid {
                grid-template-columns: repeat(2, 1fr);
                gap: 12px;
                max-width: 300px;
            }

            .memory-crystal {
                font-size: clamp(20px, 5vw, 28px);
            }

            .cosmic-stats {
                padding: 12px;
                gap: 10px;
            }

            .xp-reactor {
                width: 120px;
                height: 22px;
            }

            .level-portal {
                width: 60px;
                height: 30px;
            }

            .quantum-reward {
                font-size: clamp(12px, 2.5vw, 14px);
                padding: 12px 20px;
            }
        }

        /* ADVANCED ANIMATIONS */
        @keyframes cosmicEntry {
            0% {
                transform: scale(0) rotate(-180deg);
                opacity: 0;
            }
            50% {
                transform: scale(1.1) rotate(-90deg);
            }
            100% {
                transform: scale(1) rotate(0deg);
                opacity: 1;
            }
        }

        .cosmic-entry {
            animation: cosmicEntry 1s cubic-bezier(0.68, -0.55, 0.265, 1.55);
        }

        @keyframes quantumGlow {
            0%, 100% {
                filter: drop-shadow(0 0 10px var(--primary-cosmic));
            }
            50% {
                filter: drop-shadow(0 0 30px var(--plasma-pink)) drop-shadow(0 0 40px var(--primary-cosmic));
            }
        }

        .quantum-glow {
            animation: quantumGlow 3s ease-in-out infinite;
        }

        /* CHARACTER EMOTION ANIMATIONS */
        @keyframes characterJoy {
            0%, 100% { transform: translateY(0) scale(1); }
            25% { transform: translateY(-20px) scale(1.05); }
            50% { transform: translateY(-10px) scale(1.1); }
            75% { transform: translateY(-25px) scale(1.05); }
        }

        .character-joy {
            animation: characterJoy 2s ease-in-out infinite;
        }

        @keyframes characterExcitement {
            0%, 100% { transform: translateY(0) rotate(0deg); }
            25% { transform: translateY(-15px) rotate(-5deg); }
            50% { transform: translateY(-25px) rotate(0deg); }
            75% { transform: translateY(-15px) rotate(5deg); }
        }

        .character-excitement {
            animation: characterExcitement 1.5s ease-in-out infinite;
        }

        @keyframes characterProud {
            0%, 100% { transform: scale(1); }
            50% { transform: scale(1.08); }
        }

        .character-proud {
            animation: characterProud 3s ease-in-out infinite;
        }

        /* LOADING PORTAL ANIMATION */
        .loading-portal {
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            width: 100px;
            height: 100px;
            border: 4px solid var(--primary-cosmic);
            border-top: 4px solid var(--plasma-pink);
            border-radius: 50%;
            animation: portalSpin 1s linear infinite;
            z-index: 50;
        }

        @keyframes portalSpin {
            0% { transform: translate(-50%, -50%) rotate(0deg); }
            100% { transform: translate(-50%, -50%) rotate(360deg); }
        }
    </style>
</head>
<body>
    <!-- COSMIC UNIVERSE CONTAINER -->
    <div class="universe-container">
        <div class="cosmic-background"></div>
        <div class="star-field" id="starField"></div>
        
        <!-- NEBULA CLOUDS -->
        <div class="nebula-cloud" style="width: 400px; height: 400px; background: radial-gradient(circle, rgba(157, 78, 221, 0.4) 0%, transparent 70%); top: 15%; left: 5%;"></div>
        <div class="nebula-cloud" style="width: 350px; height: 350px; background: radial-gradient(circle, rgba(0, 212, 255, 0.3) 0%, transparent 70%); top: 60%; right: 10%;"></div>
        <div class="nebula-cloud" style="width: 300px; height: 300px; background: radial-gradient(circle, rgba(255, 214, 10, 0.3) 0%, transparent 70%); bottom: 20%; left: 15%;"></div>
        
        <!-- FLOATING PLANETS -->
        <div class="planet" style="width: 180px; height: 180px; background: radial-gradient(circle at 30% 30%, var(--secondary-nebula), var(--cosmic-dark)); top: 10%; right: 20%; --orbit-speed: 200s;"></div>
        <div class="planet" style="width: 140px; height: 140px; background: radial-gradient(circle at 30% 30%, var(--accent-star), var(--supernova-orange)); top: 70%; left: 5%; --orbit-speed: 180s;"></div>
        <div class="planet" style="width: 100px; height: 100px; background: radial-gradient(circle at 30% 30%, var(--quantum-green), var(--neutron-blue)); top: 40%; right: 5%; --orbit-speed: 220s;"></div>
        
        <!-- COMETS -->
        <div class="comet" style="top: 20%; left: 10%; --comet-speed: 15s;"></div>
        <div class="comet" style="top: 60%; left: 80%; --comet-speed: 18s;"></div>
        <div class="comet" style="top: 30%; left: 50%; --comet-speed: 12s;"></div>
    </div>

    <!-- MAIN GAME CONTAINER -->
    <div class="game-container">
        <!-- FUTURISTIC HEADER -->
        <div class="cosmic-header">
            <button class="back-portal" id="backPortal">
                <svg viewBox="0 0 24 24">
                    <path d="M20 11H7.83l5.59-5.59L12 4l-8 8 8 8 1.41-1.41L7.83 13H20v-2z"/>
                </svg>
            </button>

            <div class="logo-hologram">
                <img src="assets/logo.png" alt="CHIZEL Logo" class="logo quantum-glow">
                <div class="hologram-tagline">QUANTUM LEARNING UNIVERSE</div>
            </div>

            <div class="cosmic-stats">
                <div class="xp-quantum-container">
                    <div class="xp-label">ENERGY:</div>
                    <div class="xp-reactor">
                        <div class="xp-core" id="xpCore"></div>
                        <div class="xp-particles"></div>
                    </div>
                    <div class="xp-value" id="xpValue">0</div>
                </div>
                <div class="level-portal-container">
                    <div class="level-label">RANK:</div>
                    <div class="level-portal">
                        <div class="level-value" id="levelValue">1</div>
                    </div>
                </div>
            </div>
        </div>

        <!-- CHARACTER DIMENSIONS -->
        <div class="character-dimension">
            <div class="character-entity left-entity cosmic-entry">
                <div class="character-aura"></div>
                <div class="character-avatar">
                    <img src="assets/mummy.png" alt="Quantum Learning Guide">
                </div>
                <div class="quantum-speech mummy-speech" id="mummySpeech">
                    <div class="speech-content"></div>
                    <div class="quantum-typing" id="quantumTyping">
                        <div class="typing-particle"></div>
                        <div class="typing-particle"></div>
                        <div class="typing-particle"></div>
                    </div>
                </div>
            </div>
            
            <div class="character-entity right-entity cosmic-entry">
               <div class="character-aura"></div>
                <div class="character-avatar">
                    <img src="assets/kid.png" alt="Young Explorer">
                </div>
                <div class="quantum-speech kid-speech" id="kidSpeech">
                    <div class="speech-content"></div>
                </div>
            </div>
        </div>

        <!-- COMMAND CENTER -->
        <div class="command-center" id="commandCenter">
            <div class="command-grid">
                <button class="cosmic-button" data-mission="math">Math Mission</button>
                <button class="cosmic-button" data-mission="memory">Memory Matrix</button>
                <button class="cosmic-button" data-mission="words">Word Constellation</button>
                <button class="cosmic-button" data-mission="science">Science Discovery</button>
                <button class="cosmic-button" data-mission="chizel">CHIZEL Portal</button>
                <button class="cosmic-button" data-mission="achievements">Quantum Achievements</button>
            </div>
        </div>

        <!-- MISSION CONTROL PANELS -->
        <div class="mission-control" id="mathMission">
            <div class="mission-header">
                <div class="mission-title">QUANTUM MATH MISSION</div>
            </div>
            <div class="mission-content">
                <div class="stellar-challenge">
                    <div class="challenge-question" id="mathQuestion">Solve this cosmic equation to earn energy points!</div>
                    <div class="options-constellation" id="mathOptions"></div>
                </div>
                <button class="mission-submit" id="mathSubmit">Launch Solution</button>
            </div>
        </div>

        <div class="mission-control" id="memoryMission">
            <div class="mission-header">
                <div class="mission-title">MEMORY MATRIX</div>
            </div>
            <div class="mission-content">
                <div class="memory-quantum">
                    <div class="challenge-question">Match the quantum symbols to unlock cosmic knowledge!</div>
                    <div class="quantum-grid" id="memoryGrid"></div>
                </div>
                <button class="mission-submit hidden" id="memorySubmit">Continue</button>
            </div>
        </div>

        <div class="mission-control" id="wordsMission">
            <div class="mission-header">
                <div class="mission-title">WORD CONSTELLATION</div>
            </div>
            <div class="mission-content">
                <div class="word-constellation">
                    <div class="challenge-question" id="wordQuestion">Build the correct word from these cosmic letters!</div>
                    <div class="constellation-grid" id="wordGrid"></div>
                    <div class="word-display" id="wordDisplay"></div>
                </div>
                <button class="mission-submit" id="wordSubmit">Verify Constellation</button>
            </div>
        </div>

        <div class="mission-control" id="scienceMission">
            <div class="mission-header">
                <div class="mission-title">SCIENCE DISCOVERY PORTAL</div>
            </div>
            <div class="mission-content">
                <div class="discovery-portal">
                    <div class="challenge-question">Discover amazing cosmic facts about our universe!</div>
                    <div class="fact-crystal" id="scienceFact"></div>
                </div>
                <button class="mission-submit" id="scienceSubmit">Learn More</button>
            </div>
        </div>

        <!-- ACHIEVEMENT SYSTEM -->
        <div class="quantum-achievement" id="achievementPopup">
            <div class="achievement-constellation"></div>
            <div class="achievement-title" id="achievementTitle">Cosmic Explorer!</div>
            <div class="achievement-desc" id="achievementDesc">You've completed your first mission!</div>
            <button class="achievement-close" id="achievementClose">Continue Journey</button>
        </div>

        <!-- PROGRESS INDICATOR -->
        <div class="progress-constellation" id="progressStars"></div>

        <!-- DAILY REWARD -->
        <div class="quantum-reward" id="dailyReward">
            <span> DAILY QUANTUM BOOST</span>
        </div>

        <!-- CHIZEL PROMOTION PORTAL -->
        <div class="chizel-portal" id="chizelPortal">
            <div class="portal-close" id="portalClose"></div>
            <div class="portal-header">
                <div class="mummy-avatar"></div>
                <div class="portal-title">EXPLORE MORE WITH CHIZEL!</div>
            </div>
            <div class="portal-message">
                <p>You're doing amazing in our quantum learning universe! Did you know CHIZEL offers even more exciting adventures?</p>
                <p> Hundreds of interactive lessons<br>
                 Personalized learning journeys<br>
                 Fun games and challenges<br>
                 Complete curriculum coverage</p>
                <p>Continue your educational journey with the full CHIZEL experience!</p>
            </div>
            <div class="portal-download" id="portalDownload">DOWNLOAD CHIZEL APP</div>
        </div>

        <!-- QUANTUM POWER-UP EFFECT -->
        <div class="quantum-powerup" id="powerupEffect"></div>

        <!-- COSMIC PARTICLES -->
        <div class="cosmic-particles" id="cosmicParticles"></div>
    </div>

    <script>
        // Game State Management
        const gameState = {
            xp: 0,
            level: 1,
            xpToNextLevel: 100,
            missionsCompleted: 0,
            achievements: [],
            dailyRewardClaimed: false,
            currentMission: null
        };

        // DOM Elements
        const elements = {
            xpCore: document.getElementById('xpCore'),
            xpValue: document.getElementById('xpValue'),
            levelValue: document.getElementById('levelValue'),
            mummySpeech: document.getElementById('mummySpeech'),
            kidSpeech: document.getElementById('kidSpeech'),
            commandCenter: document.getElementById('commandCenter'),
            mathMission: document.getElementById('mathMission'),
            memoryMission: document.getElementById('memoryMission'),
            wordsMission: document.getElementById('wordsMission'),
            scienceMission: document.getElementById('scienceMission'),
            achievementPopup: document.getElementById('achievementPopup'),
            progressStars: document.getElementById('progressStars'),
            dailyReward: document.getElementById('dailyReward'),
            chizelPortal: document.getElementById('chizelPortal'),
            powerupEffect: document.getElementById('powerupEffect'),
            cosmicParticles: document.getElementById('cosmicParticles')
        };

        // Conversation System
        const conversations = {
            welcome: [
                { speaker: 'mummy', text: "Greetings, young explorer! Welcome to the CHIZEL Quantum Universe! " },
                { speaker: 'kid', text: "Wow! This place is amazing! What are we going to learn today?" },
                { speaker: 'mummy', text: "We have incredible missions waiting! Math, science, memory challenges - all designed to make learning fun!" },
                { speaker: 'kid', text: "I can't wait to start! Will I earn cosmic energy points?" },
                { speaker: 'mummy', text: "Absolutely! Every mission completed brings you closer to becoming a Quantum Master! " }
            ],
            missionComplete: [
                { speaker: 'mummy', text: "Outstanding work! Your quantum skills are improving! " },
                { speaker: 'kid', text: "That was so much fun! Can we do another one?" },
                { speaker: 'mummy', text: "Of course! CHIZEL always has new adventures waiting for curious minds like yours! " }
            ],
            levelUp: [
                { speaker: 'mummy', text: "COSMIC ACHIEVEMENT! You've leveled up! " },
                { speaker: 'kid', text: "I did it! My quantum rank is increasing!" },
                { speaker: 'mummy', text: "Your dedication to learning is truly stellar! CHIZEL is proud of your progress! " }
            ]
        };

        // Initialize Game
        function initGame() {
            createStars();
            createParticles();
            setupEventListeners();
            showConversation('welcome');
            updateUI();
            checkDailyReward();
        }

        // Create Animated Stars
        function createStars() {
            const starField = document.getElementById('starField');
            for (let i = 0; i < 200; i++) {
                const star = document.createElement('div');
                star.className = 'star';
                star.style.left = `${Math.random() * 100}%`;
                star.style.top = `${Math.random() * 100}%`;
                star.style.width = `${Math.random() * 3 + 1}px`;
                star.style.height = star.style.width;
                star.style.opacity = Math.random() * 0.7 + 0.3;
                star.style.setProperty('--twinkle-duration', `${Math.random() * 2 + 2}s`);
                starField.appendChild(star);
            }
        }

        // Create Cosmic Particles
        function createParticles() {
            for (let i = 0; i < 50; i++) {
                const particle = document.createElement('div');
                particle.className = 'particle';
                particle.style.left = `${Math.random() * 100}%`;
                particle.style.top = `${Math.random() * 100}%`;
                particle.style.width = `${Math.random() * 5 + 2}px`;
                particle.style.height = particle.style.width;
                particle.style.background = `radial-gradient(circle, ${getRandomColor()}, transparent)`;
                particle.style.animationDuration = `${Math.random() * 5 + 3}s`;
                particle.style.animationDelay = `${Math.random() * 2}s`;
                elements.cosmicParticles.appendChild(particle);
            }
        }

        function getRandomColor() {
            const colors = [
                'var(--primary-cosmic)', 'var(--secondary-nebula)', 'var(--accent-star)',
                'var(--plasma-pink)', 'var(--quantum-green)', 'var(--energy-glow)'
            ];
            return colors[Math.floor(Math.random() * colors.length)];
        }

        // Conversation System
        async function showConversation(conversationKey) {
            const conversation = conversations[conversationKey];
            for (const line of conversation) {
                await speak(line.speaker, line.text);
                await new Promise(resolve => setTimeout(resolve, 2000));
            }
        }

        async function speak(speaker, text) {
            const speechBubble = elements[`${speaker}Speech`];
            const content = speechBubble.querySelector('.speech-content');
            
            speechBubble.classList.add('visible');
            content.textContent = '';
            
            // Typing animation
            for (let i = 0; i < text.length; i++) {
                content.textContent += text[i];
                await new Promise(resolve => setTimeout(resolve, 40));
            }
            
            return new Promise(resolve => setTimeout(resolve, 1000));
        }

        // Mission System
        function startMission(missionType) {
            elements.commandCenter.classList.remove('active');
            gameState.currentMission = missionType;
            
            switch(missionType) {
                case 'math':
                    setupMathMission();
                    elements.mathMission.classList.add('active');
                    break;
                case 'memory':
                    setupMemoryMission();
                    elements.memoryMission.classList.add('active');
                    break;
                case 'words':
                    setupWordsMission();
                    elements.wordsMission.classList.add('active');
                    break;
                case 'science':
                    setupScienceMission();
                    elements.scienceMission.classList.add('active');
                    break;
                case 'chizel':
                    elements.chizelPortal.classList.add('active');
                    break;
            }
        }

        function completeMission() {
            const xpEarned = 25;
            addXP(xpEarned);
            gameState.missionsCompleted++;
            
            elements[`${gameState.currentMission}Mission`].classList.remove('active');
            elements.commandCenter.classList.add('active');
            gameState.currentMission = null;
            
            showConversation('missionComplete');
            checkAchievements();
            updateProgressStars();
            
            // Show CHIZEL promotion every 3 missions
            if (gameState.missionsCompleted % 3 === 0) {
                setTimeout(() => elements.chizelPortal.classList.add('active'), 3000);
            }
        }

        // XP and Level System
        function addXP(amount) {
            gameState.xp += amount;
            if (gameState.xp >= gameState.xpToNextLevel) {
                levelUp();
            }
            updateUI();
            
            // Show power-up effect
            elements.powerupEffect.style.opacity = '0.6';
            setTimeout(() => {
                elements.powerupEffect.style.opacity = '0';
            }, 1000);
        }

        function levelUp() {
            gameState.level++;
            gameState.xp -= gameState.xpToNextLevel;
            gameState.xpToNextLevel = Math.floor(gameState.xpToNextLevel * 1.5);
            
            showConversation('levelUp');
            showAchievement(`Quantum Rank ${gameState.level}`, `Reached level ${gameState.level}!`);
        }

        // Achievement System
        function checkAchievements() {
            const achievements = [
                { id: 'first_mission', condition: () => gameState.missionsCompleted === 1, 
                  title: 'First Mission!', description: 'Completed your first quantum mission!' },
                { id: 'five_missions', condition: () => gameState.missionsCompleted === 5, 
                  title: 'Quantum Explorer!', description: 'Completed 5 missions!' },
                { id: 'math_master', condition: () => gameState.missionsCompleted >= 3, 
                  title: 'Math Master', description: 'Solved multiple math challenges!' }
            ];

            achievements.forEach(achievement => {
                if (achievement.condition() && !gameState.achievements.includes(achievement.id)) {
                    gameState.achievements.push(achievement.id);
                    showAchievement(achievement.title, achievement.description);
                }
            });
        }

        function showAchievement(title, description) {
            document.getElementById('achievementTitle').textContent = title;
            document.getElementById('achievementDesc').textContent = description;
            elements.achievementPopup.classList.add('visible');
        }

        // UI Updates
        function updateUI() {
            const xpPercentage = (gameState.xp / gameState.xpToNextLevel) * 100;
            elements.xpCore.style.width = `${xpPercentage}%`;
            elements.xpValue.textContent = gameState.xp;
            elements.levelValue.textContent = gameState.level;
        }

        function updateProgressStars() {
            elements.progressStars.innerHTML = '';
            for (let i = 0; i < 5; i++) {
                const star = document.createElement('div');
                star.className = `progress-star ${i < gameState.missionsCompleted % 5 ? 'active' : ''}`;
                elements.progressStars.appendChild(star);
            }
        }

        // Daily Reward System
        function checkDailyReward() {
            const lastClaim = localStorage.getItem('dailyRewardLastClaim');
            const today = new Date().toDateString();
            
            if (lastClaim !== today) {
                elements.dailyReward.style.display = 'flex';
            }
        }

        function claimDailyReward() {
            localStorage.setItem('dailyRewardLastClaim', new Date().toDateString());
            addXP(50);
            elements.dailyReward.style.display = 'none';
            showAchievement('Daily Quantum Boost!', 'Claimed your daily reward!');
        }

        // Mission Setup Functions
        function setupMathMission() {
            const num1 = Math.floor(Math.random() * 10) + 1;
            const num2 = Math.floor(Math.random() * 10) + 1;
            const operators = ['+', '-', '*'];
            const operator = operators[Math.floor(Math.random() * operators.length)];
            
            let question = '';
            let answer = 0;
            
            switch(operator) {
                case '+':
                    question = `What is ${num1} + ${num2}?`;
                    answer = num1 + num2;
                    break;
                case '-':
                    question = `What is ${num1} - ${num2}?`;
                    answer = num1 - num2;
                    break;
                case '*':
                    question = `What is ${num1}  ${num2}?`;
                    answer = num1 * num2;
                    break;
            }
            
            document.getElementById('mathQuestion').textContent = question;
            
            const optionsContainer = document.getElementById('mathOptions');
            optionsContainer.innerHTML = '';
            
            // Generate options (answer + 3 wrong answers)
            const options = [answer];
            while (options.length < 4) {
                const wrongAnswer = answer + Math.floor(Math.random() * 10) - 5;
                if (wrongAnswer !== answer && !options.includes(wrongAnswer)) {
                    options.push(wrongAnswer);
                }
            }
            
            // Shuffle options
            options.sort(() => Math.random() - 0.5);
            
            options.forEach(option => {
                const button = document.createElement('div');
                button.className = 'option-star';
                button.textContent = option;
                button.addEventListener('click', () => {
                    document.querySelectorAll('.option-star').forEach(btn => btn.classList.remove('selected'));
                    button.classList.add('selected');
                });
                optionsContainer.appendChild(button);
            });
            
            document.getElementById('mathSubmit').onclick = () => {
                const selected = document.querySelector('.option-star.selected');
                if (selected && parseInt(selected.textContent) === answer) {
                    completeMission();
                }
            };
        }

        function setupMemoryMission() {
            // Memory game implementation would go here
            completeMission(); // Temporary for demo
        }

        function setupWordsMission() {
            // Word game implementation would go here
            completeMission(); // Temporary for demo
        }

        function setupScienceMission() {
            const facts = [
                "Did you know that neutron stars are so dense that a sugar-cube-sized amount of neutron star material would weigh about 1 billion tons? That's heavier than Mount Everest!",
                "The largest known star, UY Scuti, is so big that if it replaced our Sun, it would extend beyond the orbit of Jupiter!",
                "Light from the Sun takes 8 minutes and 20 seconds to reach Earth, but it takes 100,000 years to travel from the Sun's core to its surface!",
                "There are more stars in the universe than grains of sand on all the beaches on Earth! Scientists estimate there are about 100 billion stars in our galaxy alone."
            ];
            
            document.getElementById('scienceFact').textContent = facts[Math.floor(Math.random() * facts.length)];
            document.getElementById('scienceSubmit').onclick = completeMission;
        }

        // Event Listeners
        function setupEventListeners() {
            // Mission buttons
            document.querySelectorAll('.cosmic-button').forEach(button => {
                button.addEventListener('click', (e) => {
                    startMission(e.target.dataset.mission);
                });
            });

            // Back button
            document.getElementById('backPortal').addEventListener('click', () => {
                if (gameState.currentMission) {
                    elements[`${gameState.currentMission}Mission`].classList.remove('active');
                    elements.commandCenter.classList.add('active');
                    gameState.currentMission = null;
                }
            });

            // Achievement close
            document.getElementById('achievementClose').addEventListener('click', () => {
                elements.achievementPopup.classList.remove('visible');
            });

            // Daily reward
            elements.dailyReward.addEventListener('click', claimDailyReward);

            // CHIZEL portal
            document.getElementById('portalClose').addEventListener('click', () => {
                elements.chizelPortal.classList.remove('active');
            });
            

            document.getElementById('portalDownload').addEventListener('click', () => {
                alert("Redirecting to CHIZEL app download...");
                elements.chizelPortal.classList.remove('active');
            });
        }

        // Initialize the game when DOM is loaded
        document.addEventListener('DOMContentLoaded', initGame);
    </script>
</body>
</html>